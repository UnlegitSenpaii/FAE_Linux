#include "logging.hpp"
#include <iostream>

namespace Log
{
    void Initialize(const std::string& logfile, const bool saveToFile)
    {
        Log::LogFileName = logfile;
        Log::SaveToFile = saveToFile;
    }

    void PrintSmugAstolfo()
    {
        std::cout <<
        "                                    ,╓æ╥╦φφφ╥╥¿\n" <<
        "                             ,▄ñ▒▒▀▀▒▒▒▒▒▒▒▒▒▒▒▒▒N▄,«mw,\n" <<
        "                         a∞▓▀░░░Z▒▒▒µ▐╨▒▒▒▒▒▒▒▒▒▒╨░░░▒▒░┘*▄\n" <<
        "                     ╓æ╨,▒╩░░░░▒░░░T▒▒W░░▒╩ÑÑ▒╩▐░≥▒╩╨▒T▒   ╙v\n" <<
        "                   ¿╨,╦░ñ░░░░░î░░░░░▒▒░░░░░░░░░░░▒░░░░░░░x   ²╕  ╓▄▓▓▄\n" <<
        "          ╓╓,,   ▄└,░░░░▄▄▄▄░░▒░.▒░░╫▒░░░░░░▒░░░░▒▒░░░░░░░▒    ╨█▓▓▓▓▓\n" <<
        "          ▓▓▓▓▓▓▓▄▓▓▄▓▓▓▓▓▓▓▌Æ░░▒▒░▒▒░░░░░░░]1░░░░▌▒░▒░░░V░▒   `Γ█▓▓▓▓\n" <<
        "          █▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█ƒ▒░░░░░▒╫▒░░▒░░░░▒░░░░▒▒▒░░░░░▒░░    V█▓▓▓▓,\n" <<
        "          ╫▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▌╫░▒░░░░▒▒φ░░▒░░░░░░░░░▒▒H░▒░░░╫▒░▒    ╙▓▓▓▓▓\n" <<
        "          ║▓▓▓▓▓▓▓▓██▓▓▓▓▓▓▌]░▒░░░▒▒M░░░▒▒░░░░░░░░▒▒░░▒▒░▒h╫▒░▒    `█▓▓▓▌\n" <<
        "          ╫▓▓▓▓█▓▓▌█████▓▓█▒j░▒░░»░▒▒\"Å░▒▒▒░░▒░░░▒▒M∞▒▒▒▒▒░░R▒░\\   ╫▄██▀▀\n" <<
        "           ²╙▐▓▓▓▓▒█▓▓▓▒▐░▐░░░Ü░░░░▒░  *╫▒▒▒▒▒░░░╫Ñ░ │▒▒▒▒░░░▀▒░µ  ▐▄\"▀,\n" <<
        "             ▓▓▓▓▌▒▓▓▓▓▓░▒▐⌐▐\"Ü░░░░╨┴░  `Ü*▒▒▒▒░░▓I▄▄▓▓▒░╡░░░░▐░▒  ]░▌\n" <<
        "            █▌░▀▓▒▒╫▀▀▀▀M▒└ ▄▓▓▓▓█▓▓▀▀h   ª÷╨▒▒▒░▐╨█████▓▓▀██M ▌░  ▌▒░▄\n" <<
        "             ─░░▐▒▒░░░░▒² ,MÑ▄█▀╩███▓╨\"        ª╨░▓▓ `▓██▓╩╩░░▒▌µL▐▒░░▐µ\n" <<
        "            Å]░▒▒▒▒░░░²  4▐░░▀╫Mm▀Ñ▀Ü░        ░░  ╨▒MMÑ▒▀Ü░░░░░╫▒E░░░¼░▓\n" <<
        "           J ▒░Ñ\"\"╞  ▒µ,▒▒░░░░≡∞ª`k░                ░░░░░░░░░░░░▒░░▒▒░▌░▌\n" <<
        "          J ╦▒▒▒▒╦╫▒▒╨î░▒\"`     »C            ░:░    ░░░░░░░░░░░░▒░▒▒░▌▒▀\n" <<
        "         /,▒▓▒Ñ░▒▒▒▒░  ▒░µ.¿⌐░░░░      *,              ░░░░░░░░░░╫░▒▒▒▌`▐µ\n" <<
        "       ╓Pª` ▌▒░░░▒╨╨ª\"  ╨▒▒|░░░           \"=─~---        ░░░░░░░,Ü░▒▒▒▌ ╞h\n" <<
        "            ▌▒░░╛      ,ó▒▒▒                                ░░ æ▒░░▒▒╫  ▐─\n" <<
        "            ▐Ü    .,,φ▒▒▒░▒▒b                              ░y╦▒▒▌░░╫▒   ▀\n" <<
        "            ▌      ▓▒▌µÅ▒▒░▒▒▓Ww,                       ,╥ß▒▒▒▒▒▒░░▌\n" <<
        "           JH      ▓▒▌└µ▌╫▒░░░▒▒▒▒▒N╥µ,          ,,¿╥ß▒▒▒▒▒▒░░▒▒Ü▐▀▌\n" <<
        "           Æ      JH \" ▐╨Ö╙╨╨▒≥░▒▒▒▒ÑÑ▒▓░░▒▒▒▒▒▒░▓▓▒▒▒▒▒▒▒▒▒░░▐█Å└ '\n" <<
        "          JH      JUÆ▒▒▒,       ▀▒▒▒▒▒╫▓╦░░░░▒▒╥▄▒▓Ñ╫Ñ▒▒▒░░░░░▓┘\n" <<
        "          Æ        ▒░╫▒1▒N    ░  ²▒▒Ñ▒Ñ▒▒▒▒▒▒Ñ▒╫Ñ╫▒▒ÜÑ▒▒▌\"╨µ░ƒ▒▀▄\n" <<
        "         J.        ░░░╫µ▒b▒        ╩N▒╩KÑ▒▒╨▒▒▒▒╫▒ÑA▒▒▓▒  ╒ ¥▒▒▒░▒\n" <<
        "         ▐        ▐░░░▓M▒▒░▒        `%▒▒▒▒▒╦╥▒H╩╫▌▒▓▓▓▒╛ ▒F  \\▒░░▐\n" <<
        "          U       ▒░░░▓Ñ▓╫░▒          ╙╫ÑÑ╫▓╫▓▓▓▌▒▓▓▓╩╨   L   R░░▒Nµ\n" <<
        "          `w;¡¿µw╩╨╨▀▓▌Ñ╫╫`              ``  ,@▓▓╙▀▓╫▓@,  `µ  ░░%▒▒▒▓\n" <<
        "                     ╙²ª╨,   ,╓╥╦▒ª         ╒▒╫▓▌  ▓▓▒ÑÑφ  ▐  ░░≥▒▒▒▌\n" <<
        "[FAE] Successfully Patched Factorio!\n[FAE] Have Fun!" << std::endl;
    }

    void PrintAsciiArtWelcome()
    {
        std::cout << "\n" <<
            "███████╗░█████╗░███████╗  ██╗░░░░░██╗███╗░░██╗██╗░░░██╗██╗░░██╗\n" <<
            "██╔════╝██╔══██╗██╔════╝  ██║░░░░░██║████╗░██║██║░░░██║╚██╗██╔╝\n" <<
            "█████╗░░███████║█████╗░░  ██║░░░░░██║██╔██╗██║██║░░░██║░╚███╔╝░\n" <<
            "██╔══╝░░██╔══██║██╔══╝░░  ██║░░░░░██║██║╚████║██║░░░██║░██╔██╗░\n" <<
            "██║░░░░░██║░░██║███████╗  ███████╗██║██║░╚███║╚██████╔╝██╔╝╚██╗\n" <<
            "╚═╝░░░░░╚═╝░░╚═╝╚══════╝  ╚══════╝╚═╝╚═╝░░╚══╝░╚═════╝░╚═╝░░╚═╝ \n\t\tfrom github.com/UnlegitSenpaii"
            << std::endl;
}

    void LogF(const char* fmt, ...)
    {
        char buf[1024];
        va_list va;

        va_start(va, fmt);
        vsnprintf(buf, 1024, fmt, va);
        va_end(va);

        std::cout << "[FAE] " << std::string(buf);

        if (!Log::SaveToFile)
            return;
        std::ofstream debugLog(Log::LogFileName, std::ios::app);
        debugLog << "[FAE] " << std::string(buf);
        debugLog.close();
    }
}
